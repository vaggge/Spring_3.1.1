<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<form action="/login" method="post" >
    <button>Logout</button>
</form>
<h1>Users</h1>
<table border="1" width="25%" cellpadding="5">
    <tr>
        <td><p><b>ID</b></p></td>
        <td><p><b>Username</b></p></td>
        <td><p><b>Actions</b></p></td>
    </tr>

    <th:block th:each="user : ${users}">
    <tr>
        <tr>
        <td th:text="${user.id}"/>
        <td th:text="${user.username}"/>
            <td>
                <form action="/admin/delete" method="post">
                    <button name="id" th:value="${user.id}" type="submit" onclick='this.form.submit()'>Delete</button>
                </form>
                <form action="/admin/edit" method="get">
                    <button name = "id" th:value="${user.id}" type="submit" onclick='this.form.submit()'>Edit</button>
                </form>
            </td>
        </tr>
    </th:block>
</table>
    <form th:if ="${isVisible}" action="/admin/edit" method="post">
        Set new First Name
        <input type="text" name="username">
        Set new Last Name
        <input type="text" name="password">
        <input type="submit" name="submit" value="Save">
    </form>
<h1>Add new user</h1>
<form action="/admin/add" method="post">
    <p>
        <input type="text" name="username" placeholder="username">
    </p>
    <p>
        <input type="password" name="password" placeholder="password">
    </p>
    <p>
        <input type="text" name="role" placeholder="Role">
    </p>
    <input type = "submit" name = "submit" value = "Add">
</form>
</body>
</html>